<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Refleksjon</title>
  <meta name="theme-color" content="#0f172a" />

  <link rel="stylesheet" href="./spiller-refleksjon.css" />
</head>

<body>
  <main class="container">

    <div id="appBox" hidden>
      <header class="header">
        <h1>Refleksjon</h1>
        <p class="intro">Her kan du fylle ut hva du synest om ukas trening.</p>
      </header>

      <section class="grid">
        <!-- SESONGFOKUS -->
        <div class="card season-card">
  <div class="card-top">
    <h2 class="season-title">ğŸ† SesongmÃ¥l</h2>

    <div class="card-actions">
  <div id="loggedInUser" class="logged-in-user" hidden>
    ğŸ‘¤ <span id="loggedInUserName"></span>
  </div>
</div>
	<button class="back-btn" onclick="goBack()">â† Tilbake</button>
  </div>


          <div class="inline">
            <span class="pill" id="seasonBadge">Ikke satt</span>
            <span class="pill" id="seasonUpdated">â€”</span>
          </div>

          <label for="seasonGoal">Ditt viktigste mÃ¥l denne sesongen</label>
          <input id="seasonGoal" type="text" maxlength="120" />

          <div class="btns">
            <button id="saveSeasonBtn" class="secondary">Lagre mÃ¥l</button>
            <button id="clearSeasonBtn" class="danger" type="button">Slett mÃ¥l</button>
          </div>

          <div class="status" id="seasonStatus"></div>
        </div>

        <!-- UKEREFLEKSJON -->
        <div class="card">
          <h2 class="main-title">Ukerefleksjon</h2>
		  
<div class="mode-toggle">
  <button type="button" data-value="training" class="active">âš½ Trening</button>
  <button type="button" data-value="match">ğŸ† Kamp</button>
</div>

<input type="hidden" id="reflectionType" name="reflectionType" value="training">


          <form id="weeklyForm">
            <h3 class="section-title">Innsats</h3>
			  <p class="mission-sub">Hva synest du om egen innsats denne uka?</p>
            <div class="score-buttons" id="effortButtons">
  <button type="button" data-value="1">1</button>
  <button type="button" data-value="2">2</button>
  <button type="button" data-value="3">3</button>
  <button type="button" data-value="4">4</button>
  <button type="button" data-value="5">5</button>
</div>
<input type="hidden" id="effort" required>


            <h3 class="section-title">Energi</h3>
			  <p class="mission-sub">Hvordan var energien din denne uka?</p>
            <div class="choice-buttons" id="energyButtons">
  <button type="button" data-value="Lav">Lav</button>
  <button type="button" data-value="Middels">Middels</button>
  <button type="button" data-value="HÃ¸y">HÃ¸y</button>
</div>
<input type="hidden" id="energy" required>


            <h3 class="section-title">SesongmÃ¥l</h3>
			  <p class="mission-sub">Fikk du jobbet med sesongmÃ¥let ditt?</p>
            <div class="choice-buttons" id="seasonGoalButtons">
  <button type="button" data-value="Ja">Ja</button>
  <button type="button" data-value="Litt">Litt</button>
  <button type="button" data-value="Nei">Nei</button>
</div>
<input type="hidden" id="workedOnSeasonGoal" required>


            <!-- TRENING FELTER -->
<div id="trainingFields">
  <div class="mission-block">
  <h3 class="mission-title">ğŸ”¥ Hva gjorde du bra denne uka?</h3>
  <textarea id="goodThing"></textarea>
</div>

  <div class="mission-block">
  <h3 class="mission-title">ğŸ¯ Hva vil du forbedre neste uke?</h3>
  <textarea id="improveThing"></textarea>
</div>

  <label for="coachNote">Til trener</label>
  <textarea id="coachNote"></textarea>
</div>

<!-- KAMP FELTER -->
<div id="matchFields" hidden>

  <div class="mission-block">
  <h3 class="section-title">Situasjon</h3>
  <p class="mission-sub">Hvilken situasjon husker du best?</p>
  <textarea id="matchSituation"></textarea>
</div>


  <div class="mission-block">
  <h3 class="section-title">FornÃ¸yd med</h3>
  <p class="mission-sub">Hva gjorde du bra?</p>
  <textarea id="matchGood"></textarea>
</div>


  <div class="mission-block">
  <h3 class="section-title">Neste kamp</h3>
  <p class="mission-sub">Vil du gjÃ¸re noe annerledes neste kamp?</p>
  <textarea id="matchImprove"></textarea>
</div>


</div>


			
			<section class="card">
  <h2>Mine tidligere refleksjoner</h2>
  <select id="weekSelector"></select>
  <div id="historyList"></div>
</section>

<div class="xp-wrapper">
  <div class="xp-bar-bg">
    <div class="xp-bar-fill" id="xpBar"></div>
  </div>
  <div class="xp-text" id="xpText">0% Complete</div>
</div>


<button type="submit" class="submit-btn" id="submitBtn" disabled>
  ğŸš€ Send refleksjon
</button>



            <div class="status" id="weeklyStatus"></div>
          </form>
        </div>
      </section>
    </div>

  </main>

<script type="module" src="./spiller-refleksjon.js"></script>
</body>
</html>
